const gql = require("graphql-tag");
const query = gql`
  subscription buckets {
    buckets {
      id
      name
      isLocked
      size
    }
  }
`;

module.exports = wsclient => callback => {
  wsclient.subscribe({ query, variables: {} }).subscribe({
    next: data => callback(data.data.buckets)
  });
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9zdWJzY3JpcHRpb25zL2J1Y2tldHMuanMiXSwibmFtZXMiOlsiZ3FsIiwicmVxdWlyZSIsInF1ZXJ5IiwibW9kdWxlIiwiZXhwb3J0cyIsIndzY2xpZW50IiwiY2FsbGJhY2siLCJzdWJzY3JpYmUiLCJ2YXJpYWJsZXMiLCJuZXh0IiwiZGF0YSIsImJ1Y2tldHMiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE1BQU1DLFFBQVEsYUFBUixDQUFaO0FBQ0EsTUFBTUMsUUFBUUYsR0FBSTs7Ozs7Ozs7O0NBQWxCOztBQVdBRyxPQUFPQyxPQUFQLEdBQWlCQyxZQUFZQyxZQUFZO0FBQ3ZDRCxXQUFTRSxTQUFULENBQW1CLEVBQUVMLEtBQUYsRUFBU00sV0FBVyxFQUFwQixFQUFuQixFQUE2Q0QsU0FBN0MsQ0FBdUQ7QUFDckRFLFVBQU1DLFFBQVFKLFNBQVNJLEtBQUtBLElBQUwsQ0FBVUMsT0FBbkI7QUFEdUMsR0FBdkQ7QUFHRCxDQUpEIiwiZmlsZSI6ImJ1Y2tldHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBncWwgPSByZXF1aXJlKFwiZ3JhcGhxbC10YWdcIik7XG5jb25zdCBxdWVyeSA9IGdxbGBcbiAgc3Vic2NyaXB0aW9uIGJ1Y2tldHMge1xuICAgIGJ1Y2tldHMge1xuICAgICAgaWRcbiAgICAgIG5hbWVcbiAgICAgIGlzTG9ja2VkXG4gICAgICBzaXplXG4gICAgfVxuICB9XG5gO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHdzY2xpZW50ID0+IGNhbGxiYWNrID0+IHtcbiAgd3NjbGllbnQuc3Vic2NyaWJlKHsgcXVlcnksIHZhcmlhYmxlczoge30gfSkuc3Vic2NyaWJlKHtcbiAgICBuZXh0OiBkYXRhID0+IGNhbGxiYWNrKGRhdGEuZGF0YS5idWNrZXRzKVxuICB9KTtcbn07XG4iXX0=